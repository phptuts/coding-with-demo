<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <style>
        body {
            font-family: 'Arial';
        }

        main {
            width: 100%;
            min-width: 800px;
            margin: 0 auto;
            min-height: 500px;
        }

        h1 {
            font-size: 2em;
        }

        nav {
            width: 20%;
            min-width: 100px;
            min-height: 500px;
            height: 100%;
            display: inline-block;
        }

        nav > a {
            display: block;
            text-align: center;
            font-size: 30px;
            padding: 10px;
            background-color: #eb9a3a;
            border-bottom: black 2px solid;
            border-right: black 2px solid;
            color: black;
            border-left: solid black 2px;
            text-decoration: none;
            cursor: pointer;
        }

        nav > a:first-of-type {
            border-top: solid black 2px;
        }

        .completed-nav {
            background-color: #38d04e;
        }

        #nav-drop, #nav-drop-label {
            display: none;
        }

        #content {
            width: 77%;
            display: inline-block;
            height: 100%;
            min-height: 500px;
            vertical-align: top;
            margin-left: 20px;
            padding-left: 0;
        }

        #progress-bar {
            height: 25px;
            padding: 0;
            margin: 0;
            width: 100%;
            display: flex;
        }

        #progress-bar > span {
            flex-grow: 1;
            background-color: #eb9a3a;
            text-align: center;
            vertical-align: middle;
            margin: 0;
            border: 1px solid gray;
            float: left;
            text-decoration: none;
            color: black;
            font-size: 20px;
            cursor: pointer;
        }

        #progress-bar > span.complete {
            background-color: #38d04e;
        }

        #picture-video {
            display: flex;
        }

        #picture-video > video, #picture-video > img {
            max-height: 450px;
            max-width: 75%;
            margin: 10px 0;
            display: block;
        }

        #picture-video > textarea {
            flex-grow: 2;
            margin: 10px 0 10px 10px;
            font-size: 20px;
        }

        #controls {
            width: 100%;
            clear: both;
            display: block;
            height: 30px;
        }

        .page {
            text-decoration: none;
            display: inline-block;
            padding: 8px 16px;
        }

        #next-step {
            float: right;
        }

        .has-none {
            background-color: #f1f1f1;
            color: black;
        }

        .has-more {
            background-color: #38d04e;
            color: white;
        }

        .round {
            border-radius: 50%;
        }

        @media (max-width: 888px) {
            nav {
                width: 10%;
                min-width: 150px;
            }

            nav > a {
                display: block;
                text-align: center;
                font-size: 20px;
            }

            #content {
                width: 90%;
                max-width: 600px;
            }
        }

        @media (max-width: 400px) {
            nav {
                display: none;
            }

            #content {
                width: 95%;
                max-width: none;
                display: block;
            }

            #nav-drop {
                display: block;
                width: 95%;
                border: solid lightgray 1px;
                font-size: 1.5em;
                margin: 20px auto;
            }

            #nav-drop-label {
                display: block;
                font-size: 1.5em;
                margin: 20px auto;
                width: 95%;
            }
        }

        textarea {
            border: solid black 2px;
        }
    </style>

</head>


<body>

<main>
    <h1>High Five Machine</h1>

    <nav>
        <a class="section_nav completed-nav" onclick="changeSection(0, 0)">Introduction</a>
        <a class="section_nav" onclick="changeSection(1, 0)">Build</a>
        <a class="section_nav" onclick="changeSection(2, 0)">Coding 1</a>
        <a class="section_nav" onclick="changeSection(3, 0)">Challenge 1</a>
        <a class="section_nav" onclick="changeSection(4, 0)">Coding 2</a>
        <a class="section_nav" onclick="changeSection(5, 0)">Challenge 2</a>
    </nav>
    <label id="nav-drop-label" for="nav-drop">Navigation</label>
    <select id="nav-drop">
        <option value="0">Introduction</option>
        <option value="1">Build</option>
        <option value="2">Coding 1</option>
        <option value="3">Challenge 1</option>
        <option value="4">Coding 2</option>
        <option value="5">Challenge 2</option>
    </select>
    <section id="content">

        <div id="progress-bar">
            <span onclick="changeStep(0, 0)" class="complete">1</span>
            <span onclick="changeStep(0, 1)">2</span>
            <span onclick="changeStep(0, 2)">3</span>
            <span onclick="changeStep(0, 3)">4</span>
            <span onclick="changeStep(0, 4)">5</span>
        </div>
        <section id="picture-video">
            <img   id="main-image" src="http://www.codingwithnoah.com/images/arduino-block/arduino-intro/arduino.jpg"/>
            <textarea id="notes">Put your own notes and questions here. :)</textarea>
        </section>
        <section>
            <p id="step-text">Is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the
                industry's standard dummy text ever since the 1500s.</p>
        </section>
        <section id="controls">
            <span id="previous-step" onclick="previousStep()" class="has-none page round">&#8249;</span>
            <span onclick="nextStep()" id="next-step" class="has-more page round">&#8250;</span>
        </section>
    </section>
</main>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
<script>

    var lesson = {
        "sections": [
            {
                "name": "Introduction",
                "steps": [
                    {
                        "type": "image",
                        "src": "https://fakeimg.pl/700x500/?text=Intro_1",
                        "text": "Is simply dummy text of the printing and typesetting industry. Step 1"
                    },
                    {
                        "type": "image",
                        "src": "https://fakeimg.pl/700x500/?text=Intro_2",
                        "text": "Is simply dummy text of the printing and typesetting industry. Step 2"
                    },
                    {
                        "type": "image",
                        "src": "https://fakeimg.pl/700x500/?text=Intro_3",
                        "text": "Is simply dummy text of the printing and typesetting industry. Step 3"
                    },
                    {
                        "type": "image",
                        "src": "https://fakeimg.pl/700x500/?text=Intro_4",
                        "text": "Is simply dummy text of the printing and typesetting industry. Step 4"
                    },
                    {
                        "type": "image",
                        "src": "https://fakeimg.pl/700x500/?text=Intro_5",
                        "text": "Is simply dummy text of the printing and typesetting industry. Step 5"
                    }
                ]
            },
            {
                "name": "Build",
                "steps": [
                    {
                        "type": "image",
                        "src": "https://fakeimg.pl/700x500/?text=Build_1",
                        "text": "Is simply dummy text of the printing and typesetting industry. Step 1"
                    },
                    {
                        "type": "image",
                        "src": "https://fakeimg.pl/700x500/?text=Build_2",
                        "text": "Is simply dummy text of the printing and typesetting industry. Step 2"
                    },
                    {
                        "type": "image",
                        "src": "https://fakeimg.pl/700x500/?text=Build_3",
                        "text": "Is simply dummy text of the printing and typesetting industry. Step 3"
                    },
                    {
                        "type": "image",
                        "src": "https://fakeimg.pl/700x500/?text=Build_4",
                        "text": "Is simply dummy text of the printing and typesetting industry. Step 4"
                    },
                    {
                        "type": "image",
                        "src": "https://fakeimg.pl/700x500/?text=Build_5",
                        "text": "Is simply dummy text of the printing and typesetting industry. Step 5"
                    },
                    {
                        "type": "image",
                        "src": "https://fakeimg.pl/700x500/?text=Build_6",
                        "text": "Is simply dummy text of the printing and typesetting industry. Step 6"
                    },
                    {
                        "type": "image",
                        "src": "https://fakeimg.pl/700x500/?text=Build_7",
                        "text": "Is simply dummy text of the printing and typesetting industry. Step 7"
                    },
                    {
                        "type": "image",
                        "src": "https://fakeimg.pl/700x500/?text=Build_8",
                        "text": "Is simply dummy text of the printing and typesetting industry. Step 8"
                    },
                    {
                        "type": "image",
                        "src": "https://fakeimg.pl/700x500/?text=Build_9",
                        "text": "Is simply dummy text of the printing and typesetting industry. Step 9"
                    },
                    {
                        "type": "image",
                        "src": "https://fakeimg.pl/700x500/?text=Build_10",
                        "text": "Is simply dummy text of the printing and typesetting industry. Step 10"
                    }
                ]
            },
            {
                "name": "Coding 1",
                "steps": [
                    {
                        "type": "image",
                        "src": "https://fakeimg.pl/700x500/?text=Build_1",
                        "text": "Is simply dummy text of the printing and typesetting industry. Step 1"
                    },
                    {
                        "type": "image",
                        "src": "https://fakeimg.pl/700x500/?text=Build_2",
                        "text": "Is simply dummy text of the printing and typesetting industry. Step 2"
                    },
                    {
                        "type": "image",
                        "src": "https://fakeimg.pl/700x500/?text=Build_3",
                        "text": "Is simply dummy text of the printing and typesetting industry. Step 3"
                    },
                    {
                        "type": "image",
                        "src": "https://fakeimg.pl/700x500/?text=Build_4",
                        "text": "Is simply dummy text of the printing and typesetting industry. Step 4"
                    },
                    {
                        "type": "image",
                        "src": "https://fakeimg.pl/700x500/?text=Build_5",
                        "text": "Is simply dummy text of the printing and typesetting industry. Step 5"
                    },
                    {
                        "type": "image",
                        "src": "https://fakeimg.pl/700x500/?text=Build_6",
                        "text": "Is simply dummy text of the printing and typesetting industry. Step 6"
                    },
                    {
                        "type": "image",
                        "src": "https://fakeimg.pl/700x500/?text=Build_7",
                        "text": "Is simply dummy text of the printing and typesetting industry. Step 7"
                    },
                    {
                        "type": "image",
                        "src": "https://fakeimg.pl/700x500/?text=Build_8",
                        "text": "Is simply dummy text of the printing and typesetting industry. Step 8"
                    },
                    {
                        "type": "image",
                        "src": "https://fakeimg.pl/700x500/?text=Build_9",
                        "text": "Is simply dummy text of the printing and typesetting industry. Step 9"
                    },
                    {
                        "type": "image",
                        "src": "https://fakeimg.pl/700x500/?text=Build_10",
                        "text": "Is simply dummy text of the printing and typesetting industry. Step 10"
                    }
                ]
            },
            {
                "name": "Challenge 1",
                "steps": [
                    {
                        "type": "image",
                        "src": "https://fakeimg.pl/700x500/?text=Challenge_1",
                        "text": "Is simply dummy text of the printing and typesetting industry. Step 1"
                    }
                ]
            },
            {
                "name": "Coding 2",
                "steps": [
                    {
                        "type": "image",
                        "src": "https://fakeimg.pl/700x500/?text=Build_1",
                        "text": "Is simply dummy text of the printing and typesetting industry. Step 1"
                    },
                    {
                        "type": "image",
                        "src": "https://fakeimg.pl/700x500/?text=Build_2",
                        "text": "Is simply dummy text of the printing and typesetting industry. Step 2"
                    },
                    {
                        "type": "image",
                        "src": "https://fakeimg.pl/700x500/?text=Build_3",
                        "text": "Is simply dummy text of the printing and typesetting industry. Step 3"
                    },
                    {
                        "type": "image",
                        "src": "https://fakeimg.pl/700x500/?text=Build_4",
                        "text": "Is simply dummy text of the printing and typesetting industry. Step 4"
                    },
                    {
                        "type": "image",
                        "src": "https://fakeimg.pl/700x500/?text=Build_5",
                        "text": "Is simply dummy text of the printing and typesetting industry. Step 5"
                    },
                    {
                        "type": "image",
                        "src": "https://fakeimg.pl/700x500/?text=Build_6",
                        "text": "Is simply dummy text of the printing and typesetting industry. Step 6"
                    },
                    {
                        "type": "image",
                        "src": "https://fakeimg.pl/700x500/?text=Build_7",
                        "text": "Is simply dummy text of the printing and typesetting industry. Step 7"
                    },
                    {
                        "type": "image",
                        "src": "https://fakeimg.pl/700x500/?text=Build_8",
                        "text": "Is simply dummy text of the printing and typesetting industry. Step 8"
                    },
                    {
                        "type": "image",
                        "src": "https://fakeimg.pl/700x500/?text=Build_9",
                        "text": "Is simply dummy text of the printing and typesetting industry. Step 9"
                    },
                    {
                        "type": "image",
                        "src": "https://fakeimg.pl/700x500/?text=Build_10",
                        "text": "Is simply dummy text of the printing and typesetting industry. Step 10"
                    }
                ]
            },
            {
                "name": "Challenge 2",
                "steps": [
                    {
                        "type": "image",
                        "src": "https://fakeimg.pl/700x500/?text=Build_1",
                        "text": "Is simply dummy text of the printing and typesetting industry. Step 1"
                    },
                    {
                        "type": "image",
                        "src": "https://fakeimg.pl/700x500/?text=Build_2",
                        "text": "Is simply dummy text of the printing and typesetting industry. Step 2"
                    }
                ]
            }
        ]
    };

    /**
     * Represents the current state of the page
     */
    var currentState = {
        section: 0,
        step: 0
    };


    // Positions the title to align with the progress bar
    $(document).ready(function () {
        var left = document.querySelector("#progress-bar").offsetLeft

        var titleElement = document.querySelector("h1");
        titleElement.style.marginLeft = left - 10 + "px";

        changeSection(0, 0);

    });


    /**
     * Changes the number of steps in the progress bar
     * Sets the step to 0
     * Changes the status of the navigation
     *
     * @param currentSection The current section the student is one
     * @param currentStep The step the user is on
     */
    function changeSection(currentSection, currentStep) {

        currentStep = currentStep || 0;
        var sectionInfo = lesson['sections'][currentSection];
        var htmlStepProgress = '';

        sectionInfo.steps.forEach(function (step, index) {
            htmlStepProgress += '<span ';
            htmlStepProgress += 'onclick="changeStep(' + currentSection + ', '
                + index + ')"';
            if (index == 0) {
                htmlStepProgress += ' class="steps complete" >';
            } else {
                htmlStepProgress += ' class="steps" >';
            }

            htmlStepProgress += (index + 1) + '</span>'
        });

        $("#progress-bar").html(htmlStepProgress);

        var sectionNavs = $(".section_nav")

        for (var i = 0; i < sectionNavs.length; i += 1) {
            if (i > currentSection) {
                $(sectionNavs[i]).removeClass("completed-nav");
            } else {
                $(sectionNavs[i]).addClass("completed-nav");
            }
        }

        changeStep(currentSection, currentStep);

    }

    /**
     * Controls status of the progress bar
     * Changes the picture and text area
     *
     * @param currentSection
     * @param currentStep
     */
    function changeStep(currentSection, currentStep) {
        var step = lesson['sections'][currentSection].steps[currentStep];

        $("#step-text").html(step.text);

        if (step.type == 'image') {
            $("#main-image").show();
            $("#main-image").attr('src', step.src);
            $("#main-video").hide();
        } else if (step.type == 'video') {
            $("#main-video").show();
            $("#main-video").attr('src', step.src);
            $("#main-image").hide();
        }
        // Updates the pictures and the text

        // Progress Bar
        var spans = $("#progress-bar > span")
        for (var i = 0; i < spans.length; i += 1) {
            if (i > currentStep) {
                $(spans[i]).removeClass("complete");
            } else {
                $(spans[i]).addClass("complete");
            }
        }

        currentState.step = currentStep;
        currentState.section = currentSection;


        // Updates the previous span button
        if (onFirstStep()) {
            $("#previous-step").addClass('has-none');
            $("#previous-step").removeClass('has-more');
        } else {
            $("#previous-step").addClass('has-more');
            $("#previous-step").removeClass('has-none');
        }

        // Updates the next span button
        if (onLastStep()) {
            $("#next-step").addClass('has-none');
            $("#next-step").removeClass('has-more');
        } else {
            $("#next-step").addClass('has-more');
            $("#next-step").removeClass('has-none');
        }


    }

    function previousStep() {
        if (onFirstStep()) {
            return;
        }

        var section = (currentState.step - 1) < 0 ? currentState.section - 1 : currentState.section;

        var step = (currentState.step - 1) < 0 ?
            lesson['sections'][currentState.section - 1].steps.length - 1 : currentState.step - 1;

        if (section == currentState.section) {
            changeStep(section, step);
        } else {
            changeSection(section, step);
        }

    }

    function nextStep() {

        if (onLastStep()) {
            return;
        }

        var changeSections =
            (lesson['sections'][currentState.section].steps.length - 1) == currentState.step;

        if (changeSections) {
            changeSection(currentState.section + 1, 0);
        } else {
            changeStep(currentState.section, currentState.step + 1);
        }
    }

    function onLastStep() {

        var lastSection = lesson['sections'].length - 1;

        var lastStepOfSectionLastSection = lesson['sections'][lastSection].steps.length - 1;

        return lastSection == currentState.section && currentState.step == lastStepOfSectionLastSection;
    }

    function onFirstStep() {
        return (currentState.step - 1) < 0 && currentState.section == 0
    }


</script>

</body>
</html>